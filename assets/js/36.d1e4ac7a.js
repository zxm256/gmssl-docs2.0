(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{319:function(t,s,e){"use strict";e.r(s);var a=e(14),r=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"gmssl-php"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-php"}},[t._v("#")]),t._v(" GmSSL-PHP")]),t._v(" "),s("h2",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),s("p",[t._v("The PHP GmSSL extension is the binding to the GmSSL C library, which provides functions of Chinese SM2, SM3, SM4, SM9, ZUC crypto algorithms.")]),t._v(" "),s("h2",{attrs:{id:"download"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#download"}},[t._v("#")]),t._v(" Download")]),t._v(" "),s("ul",[s("li",[t._v("GitHub repo of this project https://github.com/GmSSL/GmSSL-PHP")]),t._v(" "),s("li",[t._v("Latest source code "),s("a",{attrs:{href:"https://github.com/GmSSL/GmSSL-PHP/archive/refs/heads/main.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("GmSSL-PHP-main.zip"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),s("p",[t._v("To compile and install the GmSSL PHP extension, you need to install the GmSSL library (version >= 3.1.0). See the GmSSL INSTALL.md for more details.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" GmSSL-PHP-master\n$ phpize\n$ ./configure\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),s("p",[t._v("The GmSSL PHP extension need to be enabled in the "),s("code",[t._v("php.ini")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ sudo vim `php-config --ini-path`/php.ini\n")])])]),s("p",[t._v('Search "Dynamic Extensions" and dd a new line '),s("code",[t._v("extension=gmssl")]),t._v(" at the end of this section.")]),t._v(" "),s("p",[t._v("You can print the constant value "),s("code",[t._v("GMSSL_PHP_VERSION")]),t._v(" to see if the GmSSL extension is correctly installed.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GMSSL_PHP_VERSION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("php gmssl.php\n")])])]),s("h2",{attrs:{id:"quick-start"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#quick-start"}},[t._v("#")]),t._v(" Quick Start")]),t._v(" "),s("p",[t._v("You can start GmSSL extension with the following simple examples of SM3, SM4 and SM2 crypto algorithms.")]),t._v(" "),s("h3",{attrs:{id:"sm3-examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sm3-examples"}},[t._v("#")]),t._v(" SM3 Examples")]),t._v(" "),s("p",[t._v('SM3 is a cryptographic hash function with 256-bit output hash value.\nCompute the SM3 digest of the string "abc".')]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$hash")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"abc"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bin2hex")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$hash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])]),s("h3",{attrs:{id:"sm4-examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sm4-examples"}},[t._v("#")]),t._v(" SM4 Examples")]),t._v(" "),s("p",[t._v("SM4 is a block cipher with 128-bit key length and 128-bit block size.\nUse SM4 to encrypt a block of message (16 bytes).")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_rand_bytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GMSSL_SM4_KEY_SIZE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$block")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_rand_bytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GMSSL_SM4_BLOCK_SIZE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$block")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$plaintext")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_decrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bin2hex")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$block")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bin2hex")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$plaintext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])]),s("p",[t._v("The "),s("code",[t._v("gmssl_sm4_encrypt")]),t._v(" and "),s("code",[t._v("gmssl_sm4_decrypt")]),t._v(" functions export low-level API of SM4 block cipher.\nFor the encryption of typical message, You can use SM4 with some encryption modes, such as CBC, CTR and GCM mode.\nThe GCM mode is the recommended mode for non-expert users.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_rand_bytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GMSSL_SM4_KEY_SIZE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iv")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_rand_bytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GMSSL_SM4_GCM_DEFAULT_ID_SIZE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$aad")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"Encoding: Text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$message")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"This is the secret text message."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_gcm_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$aad")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GMSSL_SM4_GCM_MAX_TAG_SIZE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$plaintext")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_gcm_decrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$aad")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GMSSL_SM4_GCM_MAX_TAG_SIZE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bin2hex")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bin2hex")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$plaintext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])]),s("h3",{attrs:{id:"sm2-examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sm2-examples"}},[t._v("#")]),t._v(" SM2 Examples")]),t._v(" "),s("p",[t._v("SM2 is the ellptic curve cryptogrphy standard of China. The standard includes the SM2 signature algorithm, the SM2 public key encryption algorithm and the recommended 256-bit SM2 domain parameters.\nHere is the example of SM2 key generation, signature generation/verification, and the SM2 public key encryption/decryption.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sm2_key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_key_generate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"123456"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_private_key_info_encrypt_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sm2_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"sm2.pem"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_public_key_info_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sm2_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"sm2pub.pem"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sm2_pub")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_public_key_info_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"sm2pub.pem"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sig")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_sign")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GMSSL_SM2_DEFAULT_ID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"To be signed message"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_verify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sm2_pub")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GMSSL_SM2_DEFAULT_ID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"To be signed message"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sm2_pub")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"Secret key materials"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$plaintext")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_decrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sm2_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$plaintext")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])]),s("h2",{attrs:{id:"gmssl-php-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-php-api"}},[t._v("#")]),t._v(" GmSSL PHP API")]),t._v(" "),s("h3",{attrs:{id:"predefined-constants"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#predefined-constants"}},[t._v("#")]),t._v(" Predefined Constants")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("GMSSL_PHP_VERSION")]),t._v("(string)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_LIBRARAY_VERSION")]),t._v(" (string)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM3_DIGEST_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM3_HMAC_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM3_HMAC_MIN_KEY_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM4_KEY_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM4_BLOCK_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM4_CBC_IV_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM4_CTR_IV_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM4_GCM_MIN_IV_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM4_GCM_MAX_IV_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM4_GCM_DEFAULT_IV_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM4_GCM_MAX_TAG_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM2_DEFAULT_ID")]),t._v(" (string)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM2_MAX_PLAINTEXT_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_SM9_MAX_PLAINTEXT_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_ZUC_KEY_SIZE")]),t._v(" (int)")]),t._v(" "),s("li",[s("strong",[t._v("GMSSL_ZUC_IV_SIZE")]),t._v(" (int)")])]),t._v(" "),s("h3",{attrs:{id:"functions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#functions"}},[t._v("#")]),t._v(" Functions")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#gmssl_rand_bytes"}},[t._v("gmssl_rand_bytes")]),t._v(" - Generate cryptographic secure random bytes")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm3"}},[t._v("gmssl_sm3")]),t._v(" - Calculate the SM3 digest of a message")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm3_hmac"}},[t._v("gmssl_sm3_hmac")]),t._v(" - Calculate the HMAC-SM3 MAC tag of a message")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm3_pbkdf2"}},[t._v("gmssl_sm3_pbkdf2")]),t._v(" - Extract key material from a password by using KBKDF2-HMAC-SM3")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm4_encrypt"}},[t._v("gmssl_sm4_encrypt")]),t._v(" - Encrypt a block of message using SM4 cipher.")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm4_decrypt"}},[t._v("gmssl_sm4_decrypt")]),t._v(" - Decrypt a block of ciphertext using SM4 cipher.")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm4_cbc_encrypt"}},[t._v("gmssl_sm4_cbc_encrypt")]),t._v(" - Encrypt message using SM4-CBC mode (with padding)")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm4_cbc_decrypt"}},[t._v("gmssl_sm4_cbc_decrypt")]),t._v(" - Decrypt SM4-CBC (with padding) ciphertext")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm4_ctr_encrypt"}},[t._v("gmssl_sm4_ctr_encrypt")]),t._v(" - Encrypt/decrypt message with SM4-CTR mode")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm4_gcm_encrypt"}},[t._v("gmssl_sm4_gcm_encrypt")]),t._v(" - Encrypt message using SM4-GCM mode")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm4_gcm_decrypt"}},[t._v("gmssl_sm4_gcm_decrypt")]),t._v(" - Decrypt SM4-GCM ciphertext")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_zuc_encrypt"}},[t._v("gmssl_zuc_encrypt")]),t._v(" - Encrypt/decrypt message using ZUC stream cipher")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_key_generate"}},[t._v("gmssl_sm2_key_generate")]),t._v(" - Generate SM2 Keypair")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_compute_z"}},[t._v("gmssl_sm2_compute_z")]),t._v(" - Compute SM2 Z value from public key and ID.")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_private_key_info_encrypt_to_pem"}},[t._v("gmssl_sm2_private_key_info_encrypt_to_pem")]),t._v(" - Export SM2 private key to password encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_private_key_info_decrypt_from_pem"}},[t._v("gmssl_sm2_private_key_info_decrypt_from_pem")]),t._v(" - Import SM2 private key from password encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_public_key_info_to_pem"}},[t._v("gmssl_sm2_public_key_info_to_pem")]),t._v(" - Export SM2 public key to PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_public_key_info_from_pem"}},[t._v("gmssl_sm2_public_key_info_from_pem")]),t._v(" - Import SM2 public key from PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_sign"}},[t._v("gmssl_sm2_sign")]),t._v(" - Sign message (not digest) and generate SM2 signature")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_verify"}},[t._v("gmssl_sm2_verify")]),t._v(" - Verify SM2 signature")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_encrypt"}},[t._v("gmssl_sm2_encrypt")]),t._v(" - Encrypt short secret message with SM2 public key")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm2_decrypt"}},[t._v("gmssl_sm2_decrypt")]),t._v(" - Decrypt SM2 ciphertext with SM2 private key")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_sign_master_key_generate"}},[t._v("gmssl_sm9_sign_master_key_generate")]),t._v(" - Generate SM9 signing master key")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_sign_master_key_extract_key"}},[t._v("gmssl_sm9_sign_master_key_extract_key")]),t._v(" - Extract the signing private key from SM9 master key with signer's ID")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_sign_master_key_info_encrypt_to_pem"}},[t._v("gmssl_sm9_sign_master_key_info_encrypt_to_pem")]),t._v(" - Export SM9 signing master key to encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_sign_master_key_info_decrypt_from_pem"}},[t._v("gmssl_sm9_sign_master_key_info_decrypt_from_pem")]),t._v(" - Import SM9 signing master key from encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_sign_master_public_key_to_pem"}},[t._v("gmssl_sm9_sign_master_public_key_to_pem")]),t._v(" - Export SM9 signing master public key to file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_sign_master_public_key_from_pem"}},[t._v("gmssl_sm9_sign_master_public_key_from_pem")]),t._v(" - Import SM9 signing master public key from file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_sign_key_info_encrypt_to_pem"}},[t._v("gmssl_sm9_sign_key_info_encrypt_to_pem")]),t._v(" - Export user's SM9 signing key to encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_sign_key_info_decrypt_from_pem"}},[t._v("gmssl_sm9_sign_key_info_decrypt_from_pem")]),t._v(" - Import user's SM9 signing key from encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_sign"}},[t._v("gmssl_sm9_sign")]),t._v(" - Sign message with user's SM9 signing key")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_verify"}},[t._v("gmssl_sm9_verify")]),t._v(" - Verify SM9 signature of message with signer's ID")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_enc_master_key_generate"}},[t._v("gmssl_sm9_enc_master_key_generate")]),t._v(" - Generate SM9 encryption master key")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_enc_master_key_extract_key"}},[t._v("gmssl_sm9_enc_master_key_extract_key")]),t._v(" - Extract the encryption private key from SM9 master key with user's ID")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_enc_master_key_info_encrypt_to_pem"}},[t._v("gmssl_sm9_enc_master_key_info_encrypt_to_pem")]),t._v(" - Export SM9 encryption master key to encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_enc_master_key_info_decrypt_from_pem"}},[t._v("gmssl_sm9_enc_master_key_info_decrypt_from_pem")]),t._v(" - Import SM9 encryption master key from encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_enc_master_public_key_to_pem"}},[t._v("gmssl_sm9_enc_master_public_key_to_pem")]),t._v(" - Export SM9 encryption master public key to file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_enc_master_public_key_from_pem"}},[t._v("gmssl_sm9_enc_master_public_key_from_pem")]),t._v(" - Import SM9 encryption master public key from file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_enc_key_info_encrypt_to_pem"}},[t._v("gmssl_sm9_enc_key_info_encrypt_to_pem")]),t._v(" - Export user's SM9 encryption key to encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_enc_key_info_decrypt_from_pem"}},[t._v("gmssl_sm9_enc_key_info_decrypt_from_pem")]),t._v(" - Import user's SM9 encryption key from encrypted PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_encrypt"}},[t._v("gmssl_sm9_encrypt")]),t._v(" - Encrypt short message with recipient's ID")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_sm9_decrypt"}},[t._v("gmssl_sm9_decrypt")]),t._v(" - Decrypt SM9 ciphertext with user's SM9 private key")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_cert_from_pem"}},[t._v("gmssl_cert_from_pem")]),t._v(" - Import X.509 certificate from PEM file")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_cert_print"}},[t._v("gmssl_cert_print")]),t._v(" - Print details of a X.509 certificate")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_cert_get_serial_number"}},[t._v("gmssl_cert_get_serial_number")]),t._v(" - Get the SerialNumber field of a certificate.")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_cert_get_issuer"}},[t._v("gmssl_cert_get_issuer")]),t._v(" - Get the Issuer field of a certificate")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_cert_get_validity"}},[t._v("gmssl_cert_get_validity")]),t._v(" - Get the Validity field of a certificate")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_cert_get_subject"}},[t._v("gmssl_cert_get_subject")]),t._v(" - Get the Subject field of a certificate")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_cert_get_subject_public_key"}},[t._v("gmssl_cert_get_subject_public_key")]),t._v(" - Get the subject public key of a SM2 certificate.")]),t._v(" "),s("li",[s("a",{attrs:{href:"#gmssl_cert_verify_by_ca_cert"}},[t._v("gmssl_cert_verify_by_ca_cert")]),t._v(" - Verify a SM2 certificate by a CA certificate.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-rand-bytes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-rand-bytes"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_rand_bytes")])]),t._v(" "),s("p",[t._v("Generate cryptographic secure random bytes.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_rand_bytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$length")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("length - Number of bytes of the required random string. Must be a positive integer and should not be too long (such as over 1 MB).")])])]),t._v(" "),s("li",[t._v("Return Values - Return a string of generated random binary raw data.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throws an Exception on failure.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm3"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm3")])]),t._v(" "),s("p",[t._v("Calculate the SM3 digest of a message.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("message - String of the to be digested message.")])])]),t._v(" "),s("li",[t._v("Return Values - Return a string of the bytes. The length of string should be GMSSL_SM3_DIGEST_SIZE.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm3-hmac"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm3-hmac"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm3_hmac")])]),t._v(" "),s("p",[t._v("Calculate the HMAC-SM3 MAC tag of a messag.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm3_hmac")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$message")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("key - a string of the binary raw key. The length should be at least GMSSL_SM3_HMAC_MIN_KEY_SIZE.")]),t._v(" "),s("li",[t._v("message - the message to be signed.")])])]),t._v(" "),s("li",[t._v("Return Values - return a string of the MAC tag raw data. The length of string should be GMSSL_SM3_HMAC_SIZE.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - throws an Exception on failure.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm3-pbkdf2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm3-pbkdf2"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm3_pbkdf2")])]),t._v(" "),s("p",[t._v("Extract key material from a password by using KBKDF2-HMAC-SM3")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm3_pbkdf2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$salt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$outlen")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("password - Password from which the extracted key is generated.")]),t._v(" "),s("li",[t._v("salt - Unexpected salt of at least 8 bytes long for binary string, or longer for text string.")]),t._v(" "),s("li",[t._v("iter - The number of iterations to slow down brute force attacks. The numbers over 8000 are recommended.")]),t._v(" "),s("li",[t._v("outlen - Length of the output key.")])])]),t._v(" "),s("li",[t._v("Return Values - Returns raw binary string or NULL on failure.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - throws an Exception on failure.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm4-encrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm4-encrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm4_encrypt")])]),t._v(" "),s("p",[t._v("Encrypt a block of message (16-bytes) using SM4 block cipher.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data_block")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("key - The encryption key string. The length should be GMSSL_SM4_KEY_SIZE (16).")]),t._v(" "),s("li",[t._v("data_block - To be encrypted message block. The length should be GMSSL_SM4_BLOCK_SIZE (16).")])])]),t._v(" "),s("li",[t._v("Return Values - The encrypted ciphertext block with length GMSSL_SM4_BLOCK_SIZE (16).")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid "),s("strong",[t._v("key")]),t._v(" length or "),s("strong",[t._v("data_block")]),t._v(" length.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm4-decrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm4-decrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm4_decrypt")])]),t._v(" "),s("p",[t._v("Decrypt a block of message (16-bytes) using SM4 block cipher.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_decrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cipher_block")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("key - The decryption key string. The length should be GMSSL_SM4_KEY_SIZE (16).")]),t._v(" "),s("li",[t._v("cipher_block - To be decrypted ciphertext block. The length should be GMSSL_SM4_BLOCK_SIZE (16).")])])]),t._v(" "),s("li",[t._v("Return Values - The encrypted ciphertext block with length GMSSL_SM4_BLOCK_SIZE (16).")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid "),s("strong",[t._v("key")]),t._v(" length or "),s("strong",[t._v("cipher_block")]),t._v(" length.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm4-cbc-encrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm4-cbc-encrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm4_cbc_encrypt")])]),t._v(" "),s("p",[t._v("Encrypt message using SM4-CBC mode (with padding)")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_cbc_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("key - The encryption key. The length should be GMSSL_SM4_KEY_SIZE (16).")]),t._v(" "),s("li",[t._v("iv - Unpredictable random Initial Vector (IV), length should be GMSSL_SM4_BLOCK_SIZE (16).")]),t._v(" "),s("li",[t._v("data - To be encrypted plaintext string of any length.")])])]),t._v(" "),s("li",[t._v("Return Values - Raw binary ciphertext, length always be multiple of GMSSL_SM4_BLOCK_SIZE.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid input or GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm4-cbc-decrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm4-cbc-decrypt"}},[t._v("#")]),t._v(" gmssl_sm4_cbc_decrypt")]),t._v(" "),s("p",[t._v("Decrypt SM4-CBC (with padding) ciphertext")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_cbc_decrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("key - The decryption key. The length should be GMSSL_SM4_KEY_SIZE (16).")]),t._v(" "),s("li",[t._v("iv - Initial Vector (IV), length should be GMSSL_SM4_BLOCK_SIZE (16).")]),t._v(" "),s("li",[t._v("data - To be decrypted plaintext, length should be multiple of GMSSL_SM4_BLOCK_SIZE.")])])]),t._v(" "),s("li",[t._v("Return Values - Decrypted plaintext.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid input or GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm4-ctr-encrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm4-ctr-encrypt"}},[t._v("#")]),t._v(" gmssl_sm4_ctr_encrypt")]),t._v(" "),s("p",[t._v("Encrypt/decrypt message with SM4-CTR mode.\nThe encryption and decryption is the same in CTR mode. So there is no "),s("strong",[t._v("gmssl_sm4_ctr_decrypt")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_ctr_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("key - The encryption key. The length should be GMSSL_SM4_KEY_SIZE (16).")]),t._v(" "),s("li",[t._v("iv - Unpredictable random Initial Vector (IV), length should be GMSSL_SM4_BLOCK_SIZE (16).")]),t._v(" "),s("li",[t._v("data - The plaintext or ciphertext of any length.")])])]),t._v(" "),s("li",[t._v("Return Values - Encrypt/decrypt result.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid input or GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm4-gcm-encrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm4-gcm-encrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm4_gcm_encrypt")])]),t._v(" "),s("p",[t._v("Encrypt message using SM4-GCM mode")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_gcm_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$aad")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$taglen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("key - The encryption key. The length should be GMSSL_SM4_KEY_SIZE (16).")]),t._v(" "),s("li",[t._v("iv - Initial Vector (IV), length should be between GMSSL_SM4_GCM_MIN_IV_SIZE and GMSSL_SM4_GCM_MAX_IV_SIZE. Use GMSSL_SM4_GCM_DEFAULT_IV_SIZE is recommened.")]),t._v(" "),s("li",[t._v("aad - AAD (Associated Authenticated Data) is the authenticated-only message (not encrypted).")]),t._v(" "),s("li",[t._v("taglen - Length of generated MAC tag.")]),t._v(" "),s("li",[t._v("data - To be encrypted plaintext of any length.")])])]),t._v(" "),s("li",[t._v("Return Values - The output GCM ciphertext.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid input or GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm4-gcm-decrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm4-gcm-decrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm4_gcm_decrypt")])]),t._v(" "),s("p",[t._v("Decrypt SM4-GCM ciphertext")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm4_gcm_decrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$aad")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$taglen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("key - The decryption key. The length should be GMSSL_SM4_KEY_SIZE (16).")]),t._v(" "),s("li",[t._v("iv - Initial Vector (IV), use the same value in gmssl_sm4_gcm_encrypt")]),t._v(" "),s("li",[t._v("aad - AAD (Associated Authenticated Data) is the authenticated-only message (not encrypted).")]),t._v(" "),s("li",[t._v("taglen - Length of the MAC tag at the last of ciphertext.")]),t._v(" "),s("li",[t._v("data - To be encrypted plaintext of any length.")])])]),t._v(" "),s("li",[t._v("Return Values - The output GCM ciphertext.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid input or GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-zuc-encrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-zuc-encrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_zuc_encrypt")])]),t._v(" "),s("p",[t._v("Encrypt/decrypt message using ZUC stream cipher")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_zuc_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$iv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("key - The encryption key. The length should be GMSSL_ZUC_KEY_SIZE (16).")]),t._v(" "),s("li",[t._v("iv - Unpredictable random Initial Vector (IV), length should be GMSSL_ZUC_IV_SIZE (16).")]),t._v(" "),s("li",[t._v("data - The plaintext or ciphertext of any length.")])])]),t._v(" "),s("li",[t._v("Return Values - Encrypt/decrypt result.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid input or GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-key-generate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-key-generate"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_key_generate")])]),t._v(" "),s("p",[t._v("Generate SM2 Keypair")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_key_generate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters - None")]),t._v(" "),s("li",[t._v("Return Values - SM2 private key (the same as SM2 key pair). The return string is 96 bytes. The first 64 bytes are the RAW public key. The last 32 bytes are the raw private key.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-compute-z"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-compute-z"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_compute_z")])]),t._v(" "),s("p",[t._v("Compute SM2 Z value from SM2 public key and user's identity.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_compute_z")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$public_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("public_key - SM2 public key. Typically SM2 public key is imported by calling "),s("code",[t._v("gmssl_sm2_public_key_info_from_pem")]),t._v(". But SM2 private key is also acceptable for this function.")]),t._v(" "),s("li",[t._v("id - User's identity string. If no explicit identity scheme is specified, the default value GMSSL_SM2_DEFAULT_ID should be used.")])])]),t._v(" "),s("li",[t._v("Return Values - The output Z value, a string of 32-byte raw data.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid input or GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-private-key-info-encrypt-to-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-private-key-info-encrypt-to-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_private_key_info_encrypt_to_pem")])]),t._v(" "),s("p",[t._v("Export SM2 private key to password encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_private_key_info_encrypt_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$keypair")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("keypair - SM2 private key, should be 96-byte string generated from "),s("code",[t._v("gmssl_sm2_key_generate")]),t._v(".")]),t._v(" "),s("li",[t._v("file - The output PEM file path.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to encrypt the private key.")])])]),t._v(" "),s("li",[t._v("Return Values: "),s("strong",[t._v("true")]),t._v(" on success or "),s("strong",[t._v("false")]),t._v(" on failure.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-private-key-info-decrypt-from-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-private-key-info-decrypt-from-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_private_key_info_decrypt_from_pem")])]),t._v(" "),s("p",[t._v("Import SM2 private key from password encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_private_key_info_decrypt_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("file - The password encrypted SM2 private key PEM file.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to decrypt the private key.")])])]),t._v(" "),s("li",[t._v("Return Values: SM2 private key, inner format is same as the output of "),s("code",[t._v("gmssl_sm2_key_generate")]),t._v(".")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-public-key-info-to-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-public-key-info-to-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_public_key_info_to_pem")])]),t._v(" "),s("p",[t._v("Export SM2 public key to PEM file.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_public_key_info_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$public_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("public_key - The SM2 public key to be exported. SM2 private key as input is also accepted and only the public key will be exported.")]),t._v(" "),s("li",[t._v("file - The output PEM file path.")])])]),t._v(" "),s("li",[t._v("Return Values: "),s("strong",[t._v("true")]),t._v(" on success or "),s("strong",[t._v("false")]),t._v(" on failure.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-public-key-info-from-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-public-key-info-from-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_public_key_info_from_pem")])]),t._v(" "),s("p",[t._v("Import SM2 public key from PEM file.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_public_key_info_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("file - The public key PEM file.")])])]),t._v(" "),s("li",[t._v("Return Values: SM2 public key, a 96-byte string with the last 32-byte private key all zeros.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-sign"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-sign"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_sign")])]),t._v(" "),s("p",[t._v("Sign message (not digest) and generate SM2 signature")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_sign")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$keypair")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$message")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("keypair - Signer's SM2 private key, typically from "),s("code",[t._v("gmssl_sm2_key_generate")]),t._v(".")]),t._v(" "),s("li",[t._v("id - Signer's identity string. If no explicit identity scheme is specified, the default value GMSSL_SM2_DEFAULT_ID should be used.")]),t._v(" "),s("li",[t._v("messsage - To be signed message of any length.")])])]),t._v(" "),s("li",[t._v("Return Values - The generated SM2 signature in DER encoding, the raw data bytes start with a "),s("code",[t._v("0x30")]),t._v(" and the typical signature length is 70, 71 or 72 bytes.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-verify"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-verify"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_verify")])]),t._v(" "),s("p",[s("code",[t._v("gmssl_sm2_verify")]),t._v(" - Verify SM2 signature")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_verify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$public_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$signature")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("public_key - Signer's SM2 public key, typically from "),s("code",[t._v("gmssl_sm2_public_key_info_from_pem")]),t._v(" or "),s("code",[t._v("gmssl_cert_get_subject_public_key")]),t._v(".")]),t._v(" "),s("li",[t._v("id - Signer's identity string. If no explicit identity scheme is specified, the default value GMSSL_SM2_DEFAULT_ID should be used.")]),t._v(" "),s("li",[t._v("messsage - The signed message.")]),t._v(" "),s("li",[t._v("signature - The SM2 signature in DER-encoding.")])])]),t._v(" "),s("li",[t._v("Return Values - "),s("strong",[t._v("ture")]),t._v(" or "),s("strong",[t._v("false")]),t._v(".")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-encrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-encrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_encrypt")])]),t._v(" "),s("p",[t._v("Encrypt short secret message with SM2 public key.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$public_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("public_key - Receiver's SM2 public key, typically from "),s("code",[t._v("gmssl_sm2_public_key_info_from_pem")]),t._v(" or "),s("code",[t._v("gmssl_cert_get_subject_public_key")]),t._v(".")]),t._v(" "),s("li",[t._v("data - To be encrypted plaintext. SM2 encryption should be used to protect key materials. The length should not longer than GMSSL_SM2_MAX_PLAINTEXT_SIZE.")])])]),t._v(" "),s("li",[t._v("Return Values - Ciphertext.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm2-decrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm2-decrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm2_decrypt")])]),t._v(" "),s("p",[t._v("Decrypt SM2 ciphertext with SM2 private key")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm2_decrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$keypair")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("keypair - Receiver's SM2 private key")]),t._v(" "),s("li",[t._v("data - Ciphertext.")])])]),t._v(" "),s("li",[t._v("Return Values - Plaintext.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-sign-master-key-generate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-sign-master-key-generate"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_sign_master_key_generate")])]),t._v(" "),s("p",[t._v("Generate SM9 signing master key")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_sign_master_key_generate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters - None")]),t._v(" "),s("li",[t._v("Return Values - SM9 signing master key.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-sign-master-key-extract-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-sign-master-key-extract-key"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_sign_master_key_extract_key")])]),t._v(" "),s("p",[t._v("Extract the signing private key from SM9 master key with signer's ID")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_sign_master_key_extract_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$master_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("master_key - SM9 signing master key.")]),t._v(" "),s("li",[t._v("id - User's identity")])])]),t._v(" "),s("li",[t._v("Return Values - User's sm9 signing private key extracted from the master key correponding to the given "),s("strong",[t._v("id")])]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters or GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-sign-master-key-info-encrypt-to-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-sign-master-key-info-encrypt-to-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_sign_master_key_info_encrypt_to_pem")])]),t._v(" "),s("p",[t._v("Export SM9 signing master key to encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_sign_master_key_info_encrypt_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$master_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("master_key - SM9 signing master key")]),t._v(" "),s("li",[t._v("file - The output PEM file path.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to encrypt the private key.")])])]),t._v(" "),s("li",[t._v("Return Values: "),s("strong",[t._v("true")]),t._v(" on success or "),s("strong",[t._v("false")]),t._v(" on failure.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-sign-master-key-info-decrypt-from-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-sign-master-key-info-decrypt-from-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_sign_master_key_info_decrypt_from_pem")])]),t._v(" "),s("p",[t._v("Import SM9 signing master key from encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_sign_master_key_info_decrypt_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("file - The input password encrypted SM9 signing master key PEM file path.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to decrypt the PEM file.")])])]),t._v(" "),s("li",[t._v("Return Values: SM9 signing master key")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-sign-master-public-key-to-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-sign-master-public-key-to-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_sign_master_public_key_to_pem")])]),t._v(" "),s("p",[t._v("Export SM9 signing master public key to file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_sign_master_public_key_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$master_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("master_key - SM9 signing master key or master public key")]),t._v(" "),s("li",[t._v("file - The output SM9 signing master public key PEM file path.")])])]),t._v(" "),s("li",[t._v("Return Values: "),s("strong",[t._v("true")]),t._v(" on success or "),s("strong",[t._v("false")]),t._v(" on failure.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-sign-master-public-key-from-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-sign-master-public-key-from-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_sign_master_public_key_from_pem")])]),t._v(" "),s("p",[t._v("Import SM9 signing master public key from file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_sign_master_public_key_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("file - The SM9 signing master public key PEM file.")])])]),t._v(" "),s("li",[t._v("Return Values: SM9 signing master public key.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-sign-key-info-encrypt-to-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-sign-key-info-encrypt-to-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_sign_key_info_encrypt_to_pem")])]),t._v(" "),s("p",[t._v("Export user's SM9 signing key to encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_sign_key_info_encrypt_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("sign_key - SM9 signing private key")]),t._v(" "),s("li",[t._v("file - The output PEM file path.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to encrypt the private key.")])])]),t._v(" "),s("li",[t._v("Return Values: "),s("strong",[t._v("true")]),t._v(" on success or "),s("strong",[t._v("false")]),t._v(" on failure.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-sign-key-info-decrypt-from-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-sign-key-info-decrypt-from-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_sign_key_info_decrypt_from_pem")])]),t._v(" "),s("p",[t._v("Import user's SM9 signing key from encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_sign_key_info_decrypt_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("file - The input password encrypted SM9 signing private key PEM file path.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to decrypt the PEM file.")])])]),t._v(" "),s("li",[t._v("Return Values: SM9 signing private key")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-sign"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-sign"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_sign")])]),t._v(" "),s("p",[t._v("Sign message with user's SM9 signing key")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_sign")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$message")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("sign_key - Signer's SM9 private key.")]),t._v(" "),s("li",[t._v("messsage - To be signed message of any length.")])])]),t._v(" "),s("li",[t._v("Return Values - The generated SM9 signature in DER encoding, the raw data bytes start with a "),s("code",[t._v("0x30")]),t._v(" byte.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-verify"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-verify"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_verify")])]),t._v(" "),s("p",[t._v("Verify SM9 signature of message with signer's ID")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_verify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$master_public_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$signature")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("master_public_key - SM9 signing master public key.")]),t._v(" "),s("li",[t._v("id - Signer's identity string.")]),t._v(" "),s("li",[t._v("messsage - Signed message of any length.")]),t._v(" "),s("li",[t._v("signature - SM9 signature.")])])]),t._v(" "),s("li",[t._v("Return Values - "),s("strong",[t._v("ture")]),t._v(" or "),s("strong",[t._v("false")]),t._v(".")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-enc-master-key-generate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-enc-master-key-generate"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_enc_master_key_generate")])]),t._v(" "),s("p",[t._v("Generate SM9 encryption master key")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_enc_master_key_generate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters - None")]),t._v(" "),s("li",[t._v("Return Values - SM9 signing master key.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-enc-master-key-extract-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-enc-master-key-extract-key"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_enc_master_key_extract_key")])]),t._v(" "),s("p",[t._v("Extract the encryption private key from SM9 master key with user's ID")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_enc_master_key_extract_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$master_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("master_key - SM9 encryption master key.")]),t._v(" "),s("li",[t._v("id - User's identity")])])]),t._v(" "),s("li",[t._v("Return Values - User's sm9 encryption private key extracted from the master key correponding to the given "),s("strong",[t._v("id")])]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters or GmSSL library inner errors.")])]),t._v(" "),s("p",[t._v("###"),s("strong",[t._v("gmssl_sm9_enc_master_key_info_encrypt_to_pem")])]),t._v(" "),s("p",[t._v("Export SM9 encryption master key to encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_enc_master_key_info_encrypt_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$master_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("master_key - SM9 encryption master key")]),t._v(" "),s("li",[t._v("file - The output PEM file path.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to encrypt the private key.")])])]),t._v(" "),s("li",[t._v("Return Values: "),s("strong",[t._v("true")]),t._v(" on success or "),s("strong",[t._v("false")]),t._v(" on failure.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-enc-master-key-info-decrypt-from-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-enc-master-key-info-decrypt-from-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_enc_master_key_info_decrypt_from_pem")])]),t._v(" "),s("p",[t._v("Import SM9 encryption master key from encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_enc_master_key_info_decrypt_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("file - The input password encrypted SM9 encryption master key PEM file path.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to decrypt the PEM file.")])])]),t._v(" "),s("li",[t._v("Return Values: SM9 encryption master key")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-enc-master-public-key-to-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-enc-master-public-key-to-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_enc_master_public_key_to_pem")])]),t._v(" "),s("p",[t._v("Export SM9 encryption master public key to file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_enc_master_public_key_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$master_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("master_key - SM9 encryption master key or master public key")]),t._v(" "),s("li",[t._v("file - The output SM9 encryption master public key PEM file path.")])])]),t._v(" "),s("li",[t._v("Return Values: "),s("strong",[t._v("true")]),t._v(" on success or "),s("strong",[t._v("false")]),t._v(" on failure.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-enc-master-public-key-from-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-enc-master-public-key-from-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_enc_master_public_key_from_pem")])]),t._v(" "),s("p",[t._v("Import SM9 encryption master public key from file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_enc_master_public_key_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("file - The SM9 encryption master public key PEM file.")])])]),t._v(" "),s("li",[t._v("Return Values: SM9 encryption master public key.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-enc-key-info-encrypt-to-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-enc-key-info-encrypt-to-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_enc_key_info_encrypt_to_pem")])]),t._v(" "),s("p",[t._v("Export user's SM9 encryption key to encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_enc_key_info_encrypt_to_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$enc_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("enc_key - SM9 encryption private key")]),t._v(" "),s("li",[t._v("file - The output PEM file path.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to encrypt the private key.")])])]),t._v(" "),s("li",[t._v("Return Values: "),s("strong",[t._v("true")]),t._v(" on success or "),s("strong",[t._v("false")]),t._v(" on failure.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-enc-key-info-decrypt-from-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-enc-key-info-decrypt-from-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_enc_key_info_decrypt_from_pem")])]),t._v(" "),s("p",[t._v("Import user's SM9 encryption key from encrypted PEM file")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_enc_key_info_decrypt_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$passphrase")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("file - The input password encrypted SM9 encryption private key PEM file path.")]),t._v(" "),s("li",[t._v("passphrase - The passphrase/password to decrypt the PEM file.")])])]),t._v(" "),s("li",[t._v("Return Values: SM9 encryption private key")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-encrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-encrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_encrypt")])]),t._v(" "),s("p",[t._v("Encrypt short message with recipient's ID")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$master_public_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("master_public_key - SM9 encryption master public key.")]),t._v(" "),s("li",[t._v("data - To be encrypted plaintext. SM9 encryption should be used to protect key materials. The length should not longer than GMSSL_SM9_MAX_PLAINTEXT_SIZE.")])])]),t._v(" "),s("li",[t._v("Return Values - Ciphertext.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-sm9-decrypt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-sm9-decrypt"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_sm9_decrypt")])]),t._v(" "),s("p",[t._v("Decrypt SM9 ciphertext with user's SM9 private key")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_sm9_decrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$enc_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ciphertext")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("enc_key - Receiver's SM9 encryption/decryption private key")]),t._v(" "),s("li",[t._v("id - Receiver's identity")]),t._v(" "),s("li",[t._v("ciphertext - SM9 Ciphertext.")])])]),t._v(" "),s("li",[t._v("Return Values - Plaintext.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-cert-from-pem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-cert-from-pem"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_cert_from_pem")])]),t._v(" "),s("p",[t._v("Import X.509 certificate from PEM file.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_cert_from_pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("path - Certificate file path, the certificate should be a SM2 certficate in PEM format.")])])]),t._v(" "),s("li",[t._v("Return Values - SM2 certificate. The raw data of the return value is the DER-encoding bytes of the certificate.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-cert-print"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-cert-print"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_cert_print")])]),t._v(" "),s("p",[t._v("Print details of a X.509 certificate.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_cert_print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$label")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("cert - SM2 certificate, typically from "),s("code",[t._v("gmssl_cert_from_pem")]),t._v(".")]),t._v(" "),s("li",[t._v("label - Label string that will be printed at the first line of the output.")])])]),t._v(" "),s("li",[t._v("Return Values - "),s("strong",[t._v("true")]),t._v(" or "),s("strong",[t._v("false")])]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-cert-get-serial-number"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-cert-get-serial-number"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_cert_get_serial_number")])]),t._v(" "),s("p",[t._v("Get the SerialNumber field of a X.509 certificate.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_cert_get_serial_number")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("cert - SM2 certificate, typically from "),s("code",[t._v("gmssl_cert_from_pem")]),t._v(".")])])]),t._v(" "),s("li",[t._v("Return Values - SerialNumber field raw data (bytes).")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-cert-get-issuer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-cert-get-issuer"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_cert_get_issuer")])]),t._v(" "),s("p",[t._v("Get the Issuer field of a X.509 certificate.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_cert_get_issuer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("array")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("cert - SM2 certificate, typically from "),s("code",[t._v("gmssl_cert_from_pem")]),t._v(".")])])]),t._v(" "),s("li",[t._v("Return Values - Issuer field as an array. The element with key "),s("code",[t._v("raw_data")]),t._v(" is the DER-encoding of the X.509 DN value (without Tag and Length).")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-cert-get-validity"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-cert-get-validity"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_cert_get_validity")])]),t._v(" "),s("p",[t._v("Get the Validity field of a X.509 certificate.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_cert_get_validity")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("array")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("cert - SM2 certificate, typically from "),s("code",[t._v("gmssl_cert_from_pem")]),t._v(".")])])]),t._v(" "),s("li",[t._v("Return Values - Validity field of the certificate as an array. The return array has two elements with key "),s("code",[t._v("notBefore")]),t._v(" and "),s("code",[t._v("notAfter")]),t._v(", the value is an "),s("code",[t._v("int")]),t._v(" value of the timestamp.")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-cert-get-subject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-cert-get-subject"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_cert_get_subject")])]),t._v(" "),s("p",[t._v("Get the Subject field of a X.509 certificate.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_cert_get_subject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("array")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("cert - SM2 certificate, typically from "),s("code",[t._v("gmssl_cert_from_pem")]),t._v(".")])])]),t._v(" "),s("li",[t._v("Return Values - Subject field as an array. The element with key "),s("code",[t._v("raw_data")]),t._v(" is the DER-encoding of the X.509 DN value (without Tag and Length).")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-cert-get-subject-public-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-cert-get-subject-public-key"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_cert_get_subject_public_key")])]),t._v(" "),s("p",[t._v("Get the SM2 public key from the SubjectPublicKeyInfo field of a X.509 certificate.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_cert_get_subject_public_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("cert - SM2 certificate, typically from "),s("code",[t._v("gmssl_cert_from_pem")]),t._v(".")])])]),t._v(" "),s("li",[t._v("Return Values - SM2 public key from the SubjectPublicKeyInfo field of the certificate. The return value format is the same as output of the "),s("code",[t._v("sm2_public_key_info_from_pem")]),t._v(".")]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("h3",{attrs:{id:"gmssl-cert-verify-by-ca-cert"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gmssl-cert-verify-by-ca-cert"}},[t._v("#")]),t._v(" "),s("strong",[t._v("gmssl_cert_verify_by_ca_cert")])]),t._v(" "),s("p",[t._v("Verify a X.509 certificate by a CA certificate.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gmssl_cert_verify_by_ca_cert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cacert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sm2_id")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("bool")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parameters\n"),s("ul",[s("li",[t._v("cert - The verified SM2 certificate, to be verified if it is signed (issued) by the "),s("strong",[t._v("cacert")]),t._v(".")]),t._v(" "),s("li",[t._v("cacert - The CA's SM2 certificate. The Issuer field of "),s("strong",[t._v("cert")]),t._v(" should be the same as the Subject field of the "),s("strong",[t._v("cacert")]),t._v(".")]),t._v(" "),s("li",[t._v("sm2_id - The CA's signing SM2 ID, is not specified, GMSSL_SM2_DEFAULT_ID should be used.")])])]),t._v(" "),s("li",[t._v("Return Values - "),s("strong",[t._v("true")]),t._v(" or "),s("strong",[t._v("false")])]),t._v(" "),s("li",[t._v("Errors/Exceptions - Throw exceptions on invalid parameters and GmSSL library inner errors.")])]),t._v(" "),s("p",[t._v("同步时间: 2025-07-12 03:19:44")])])}),[],!1,null,null,null);s.default=r.exports}}]);